Quellen zum ETI Grossprojekt
"Cache Simulator fuer Visualisierungen zum Cacheverhalten"


Generator fuer Speicherzugriffsereignisse: McTracer
===================================================

mctracer-vg370.patch war ein Patch fuer die Original-Quellen
von Valgrind 3.7.0 und enthaelt das sogenannte McTracer-Tool,
welches Speicherzugriffe an einen eigenen Simulator ueber
Shared-Memory weiterleiten kann (siehe SimpleSim unten).

Installation
------------

Voraussetzung:
* relativ neue Linux-Distribution
* "gcc" (C-Compiler), "automake" installiert
* Git 

Installation:
git clone https://github.com/bucjac/ETI-GP-SS12-P5.git PROJEKTPFAD
cd PROJEKTPFAD
./init.sh

Statt die installationsschritte von init.sh übernehmen zu lassen kann man auch
manuell vorgehen:
cd valgrind-source
./autogen.sh
./configure --prefix=<Installationspfad für valgrind>
make
make install
cd ..
cd example
make
cd ..

Anmerkung: Die Valgrind-makefiles sind nicht freundlich gegenüber CC="ccache gcc"


Nutzung von McTracer/SimpleSim mit Code-Beispiel
------------------------------------------------
McTracer lässt sich nur mit angepasstem Code verwenden, da ohne informationen
über Größe und Beschaffenheit der Speicherbereiche keine gute Analyse erstellt
werden kann.

Testen:

 valgrind --tool=mctracer example/redblack

Dies weist McTracer an, den Hitzeverteilungssimulator redblack zu starten.
Dabei werden informationen über Zugriffe auf den Speicherbereich gesammelt,
der die Simulation abbildet. Die Ausgabe wird in redblack.etis gespeichert.
Ein alternativer Ausgabepfad kann mit --output=<pfad> spezifiziert werden.


Viel Spass,
Josef Weidendorfer
  - Dankesehr!


